%-------------------------------------------------------------------------------
% User guide
%-------------------------------------------------------------------------------

% Custom environments and page setups to meet thesis requirements  for Western
% are in westerntemplate.tex and must be loaded in immediately after packages.

% Custom commands:
% \degree for degree symbol
% \u for mu symbol
% \tilde for tilde symbol
% \dummyref = Create a dummy reference link
% \dummyfig = Create a dummy figure link
% \dummytab = Create a dummy table link
% \dummysupfig = Create a dummy supplementary figure link
% \dummysuptab = Create a dummy supplementary table link

% Figures can be referenced in-text by:
% (Figure \ref{fig:macrolide-chemical-structures})

% To-do notes:
% To create a to-do note: \todo{This is a note.}
% To create a missing figure: \missingfigure{This text will appear inside the
% missing figure.}

% Supplementary figures and tables:
% Can use \begin{suppfigure} in place of \begin{figure}, and \begin{supptable}
% in place of \begin{table}
% Can print lists of supplementary figures and tables using \listofsuppfigures,
% \listofsupptables

%-------------------------------------------------------------------------------
% Packages
%-------------------------------------------------------------------------------

% Doc and page setup
% \documentclass[12pt, oneside]{report}
\documentclass[12pt, twoside]{report} % Uncomment for book binding margins

% Reference management
\usepackage[colorlinks = true,
            linkcolor = blue,
            urlcolor  = blue,
            citecolor = blue,
            anchorcolor = blue]{hyperref} % For cross-referenced hyperlinks, with colouring; comment out for hardcopy
\usepackage[style=authoryear, backend=biber, hyperref=true, natbib=true]{biblatex}

% Font
%\usepackage{mathptmx} % For pseudo-Times New Roman typeface when using serif
\usepackage{helvet} % For Helvetica typeface when using sans-serif
\renewcommand{\familydefault}{\sfdefault} % Uncomment for serif typeface

% Graphics
\usepackage{graphicx}
\usepackage{booktabs} % For horizontal bars to make 'science-y' looking tables
\usepackage{float} % Allows placement of figures exactly where inserted
\usepackage{newfloat} % Required for setting up supplementary figures and tables
\usepackage{array} % Required for centering columns in tables with defined width
\usepackage{longtable} % For creating tables that span multiple pages
\usepackage{enumitem} % For resuming enumerated lists
\usepackage[plain]{fancyref} % For advanced cross-referencing features
\usepackage{xcolor}
\usepackage{caption}
\usepackage{chngcntr} % Figure numbering
\usepackage{glossaries} % For abbreviations
\usepackage{textcomp} % For trademark symbols
\usepackage{todonotes} % For inserting to-do notes; can be used for commenting

% Western thesis template packages
\usepackage{tocloft} % For custom formatting of ToC and List of 'X'
\usepackage{appendix}
\usepackage{graphicx}
\usepackage{amsmath} % Can get rid of this if I'm not using any equations

% Line spacing
\usepackage{setspace}
\onehalfspacing % For 1.5 line spacing

%-------------------------------------------------------------------------------
% Initialize
%-------------------------------------------------------------------------------

\newcommand{\degree}{$^\circ$} % Degree symbol
\renewcommand{\u}{$\mu$} % Mu symbol
\renewcommand{\tilde}{$\sim$} % Tilde symbol

% Create commands for dummy references
\newcommand{\dummyref}{(\textbf{\textcolor{red}{ref}})}
\newcommand{\dummyfig}{(Figure \textbf{\textcolor{red}{XX}})}
\newcommand{\dummytab}{(Table \textbf{\textcolor{red}{XX}})}
\newcommand{\dummysupfig}{(Supplementary Figure \textbf{\textcolor{red}{XX}})}
\newcommand{\dummysuptab}{(Supplementary Table \textbf{\textcolor{red}{XX}})}

% Figure and table captions
\floatstyle{plaintop} % For placing captions above tables
\restylefloat{table} % Place captions above tables
\definecolor{pastelred}{HTML}{D73231}
\captionsetup{labelfont = {bf, color = pastelred},
              justification = justified,
              labelsep = quad}
\counterwithout{figure}{chapter} % For continuous figure numbering
\counterwithout{table}{chapter} % For continuous table numbering

% Other
\DeclareLanguageMapping{english}{american-apa} % Required for proper citation using APA
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}} % For centering columns in tables (use P instead of p)
\addbibresource{references.bib}
\makeglossaries
\setuptodonotes{inline, color=blue!20}
\DeclareFloatingEnvironment[name={Supplementary Figure},fileext=lsf,listname={List of Supplementary Figures}]{suppfigure} % Set up supplementary figures
\DeclareFloatingEnvironment[name={Supplementary Table},fileext=lsf,listname={List of Supplementary Tables}]{supptable} % Set up supplementary figures

% Avoid hyphenating words that run onto new lines when using text justification
\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000

%-------------------------------------------------------------------------------
% Abbreviations
%-------------------------------------------------------------------------------

\newglossaryentry{ANOVA}{name={ANOVA}, description={Analysis of variance}}
\newglossaryentry{CARD}{name={CARD}, description={Comprehensive Antibiotic Resistance Database}}
\newglossaryentry{CLR}{name={CLR}, description={Center log ratio}}
\newglossaryentry{COG}{name={COG}, description={Cluster of Orthologous Groups}}
\newglossaryentry{Meta-MARC}{name={Meta-MARC}, description={Metagenomic Markov models for Antimicrobial Resistance Characterization}}
\newglossaryentry{PERMANOVA}{name={PERMANOVA}, description={Permutational multivarate analysis of variance}}

%-------------------------------------------------------------------------------
% Preliminary document
%-------------------------------------------------------------------------------

% Western thesis template requirements
\input{westerntemplate.tex}

% Set the page style and numbering for preliminary sections
\begin{preliminary}

% Generate title page from the information in westerntemplate.tex
\maketitle
\addcontentsline{toc}{chapter}{Certificate of Examination}
\makecert
\newpage
%\addcontentsline{toc}{chapter}{Co-Authorship Statement}
%\coauthor{\makecoauthor}  %comment this out if none
%\newpage
\addcontentsline{toc}{chapter}{Acknowlegements}
\acknowlege{\makeacknowlege}	%as above

% Abstract
\input{abstract/abstract.tex}

% ToC
\newpage
\tableofcontents\newpage

% List of Figures
\newpage
\addcontentsline{toc}{chapter}{List of Figures}
\listoffigures\newpage

% List of Tables
\addcontentsline{toc}{chapter}{List of Tables}
\listoftables\newpage

% List of Appendices
% \addcontentsline{toc}{chapter}{List of Appendices}
% \listofmyappendices\newpage

% List of Abbreviations
\addcontentsline{toc}{chapter}{List of Abbreviations}
\printglossary[title = {List of Abbreviations}]
\newpage

%% End of the preliminary sections: reset page style and numbering.
\end{preliminary}

%-------------------------------------------------------------------------------
% Main document
%-------------------------------------------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                    %%
%%                    ***   I M P O R T A N T   ***                   %%
%%                                                                    %%
%% Put your Chapters here; the easiest way to do this is to keep each %%
%% chapter in a separate file and \include all the files right here.  %%
%% Note that each chapter file should start with the line             %%
%% "\chapter{ChapterName}".  Note that using "\include" instead of    %%
%% "\input" makes each chapter start on a new page.                   %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{chapters/chapter1}
\include{chapters/chapter2}
\include{chapters/chapter3}

% Add a line for bibliography in ToC
\addcontentsline{toc}{chapter}{Bibliography}

\todo{Need to go through all of the references and make sure formatting/names are correct.}
\printbibliography

% Appendices.
\begin{appendices}
\include{appendices/appendixa}
\end{appendices}

\include{curriculum-vitae/cv.tex}

\end{document}
